# MDS Content Creation OS - Command Interface
# Slash commands for creative production

version: "1.0.0"

# ═══════════════════════════════════════════════════════════════════════════════
# PRIMARY COMMANDS
# ═══════════════════════════════════════════════════════════════════════════════

commands:

  # ─────────────────────────────────────────────────────────────────────────────
  # FULL CREATIVE PIPELINE
  # ─────────────────────────────────────────────────────────────────────────────

  create:
    name: "/create"
    description: "Full creative process with multi-platform output"
    usage: "/create [brief]"
    workflow: "create-content"
    parameters:
      brief:
        type: string
        required: true
        description: "Creative brief or request"
      platform:
        type: string
        required: false
        default: "auto"
        description: "Target platform (auto-detected if not specified)"
    example: "/create A luxury watch commercial showing craftsmanship and precision"
    output: "Complete production package with prompts for detected platform(s)"

  # ─────────────────────────────────────────────────────────────────────────────
  # VIDEO-SPECIFIC COMMANDS
  # ─────────────────────────────────────────────────────────────────────────────

  video:
    name: "/video"
    description: "Video-optimized output (auto-selects Sora or VEO)"
    usage: "/video [brief]"
    workflow: "video-only"
    parameters:
      brief:
        type: string
        required: true
      duration:
        type: number
        required: false
        description: "Target duration in seconds"
    auto_platform_logic:
      - condition: "duration > 10"
        platform: "sora"
      - condition: "duration <= 8"
        platform: "veo"
      - condition: "fast_iteration requested"
        platform: "runway"
    example: "/video Coffee being poured in morning light, 15 seconds"

  sora:
    name: "/sora"
    description: "Sora 2 Pro prose-first format"
    usage: "/sora [brief]"
    workflow: "video-only"
    force_platform: "sora"
    parameters:
      brief:
        type: string
        required: true
      duration:
        type: number
        required: false
        default: 15
        min: 5
        max: 20
    output_format: "prose-first"
    prose_density: "150-250 words per shot"
    example: "/sora Dramatic product reveal of new smartphone, 20s"

  veo:
    name: "/veo"
    description: "VEO 3.1 JSON priority cascade format"
    usage: "/veo [brief]"
    workflow: "video-only"
    force_platform: "veo"
    parameters:
      brief:
        type: string
        required: true
    output_format: "json-priority-cascade"
    max_duration: 8
    example: "/veo Quick product hero shot with dynamic lighting"

  runway:
    name: "/runway"
    description: "Runway Gen-3 concise format"
    usage: "/runway [brief]"
    workflow: "video-only"
    force_platform: "runway"
    parameters:
      brief:
        type: string
        required: true
    output_format: "concise-prose-motion"
    example: "/runway Abstract fluid motion for background loop"

  kling:
    name: "/kling"
    description: "Kling AI 1.6 subject-focused format"
    usage: "/kling [brief]"
    workflow: "video-only"
    force_platform: "kling"
    parameters:
      brief:
        type: string
        required: true
    output_format: "subject-focused"
    example: "/kling Person walking through city street at golden hour"

  # ─────────────────────────────────────────────────────────────────────────────
  # IMAGE-SPECIFIC COMMANDS
  # ─────────────────────────────────────────────────────────────────────────────

  image:
    name: "/image"
    description: "Image prompt (auto-selects MJ/DALL-E/Flux)"
    usage: "/image [brief]"
    workflow: "image-only"
    parameters:
      brief:
        type: string
        required: true
      aspect_ratio:
        type: string
        required: false
        default: "16:9"
    auto_platform_logic:
      - condition: "artistic/creative style"
        platform: "midjourney"
      - condition: "precise/specific requirements"
        platform: "dalle"
      - condition: "photorealistic"
        platform: "flux"
      - condition: "text/logo required"
        platform: "ideogram"
    example: "/image Minimalist product shot of perfume bottle"

  mj:
    name: "/mj"
    description: "Midjourney V6.1 format with parameters"
    usage: "/mj [brief]"
    workflow: "image-only"
    force_platform: "midjourney"
    parameters:
      brief:
        type: string
        required: true
      aspect_ratio:
        type: string
        required: false
        default: "16:9"
      style:
        type: string
        required: false
        enum: ["raw", "4a", "4b", "4c"]
      style_reference:
        type: string
        required: false
        description: "URL for --sref parameter"
    output_includes:
      - evocative_prose
      - parameter_string
      - negative_considerations
    example: "/mj Ethereal forest scene at dawn --ar 2.39:1 --style raw"

  dalle:
    name: "/dalle"
    description: "DALL-E 3 precise instruction format"
    usage: "/dalle [brief]"
    workflow: "image-only"
    force_platform: "dalle"
    parameters:
      brief:
        type: string
        required: true
      size:
        type: string
        required: false
        enum: ["1024x1024", "1792x1024", "1024x1792"]
    example: "/dalle Technical diagram of engine components"

  flux:
    name: "/flux"
    description: "Flux Pro photorealistic format"
    usage: "/flux [brief]"
    workflow: "image-only"
    force_platform: "flux"
    parameters:
      brief:
        type: string
        required: true
    example: "/flux Professional headshot with studio lighting"

  ideogram:
    name: "/ideogram"
    description: "Ideogram 2.0 text-optimized format"
    usage: "/ideogram [brief]"
    workflow: "image-only"
    force_platform: "ideogram"
    parameters:
      brief:
        type: string
        required: true
      text:
        type: string
        required: false
        description: "Exact text to render"
    example: "/ideogram Logo design for coffee shop 'Morning Ritual'"

  # ─────────────────────────────────────────────────────────────────────────────
  # STORYBOARD & PLANNING
  # ─────────────────────────────────────────────────────────────────────────────

  storyboard:
    name: "/storyboard"
    description: "Full visual storyboard with shot breakdowns"
    usage: "/storyboard [brief]"
    workflow: "storyboard"
    parameters:
      brief:
        type: string
        required: true
      duration:
        type: number
        required: false
      style:
        type: string
        required: false
        default: "cinematic"
    output_includes:
      - shot_by_shot_breakdown
      - visual_descriptions
      - camera_specifications
      - timing_notes
      - image_prompts_per_frame
    example: "/storyboard 30-second commercial for electric vehicle"

  # ─────────────────────────────────────────────────────────────────────────────
  # UTILITY COMMANDS
  # ─────────────────────────────────────────────────────────────────────────────

  adapt:
    name: "/adapt"
    description: "Convert existing output to new platform"
    usage: "/adapt [platform]"
    requires_context: true
    parameters:
      platform:
        type: string
        required: true
        enum: ["sora", "veo", "runway", "kling", "midjourney", "dalle", "flux", "ideogram"]
    context_source: "previous_output"
    example: "/adapt veo (after creating a Sora prompt)"

  refine:
    name: "/refine"
    description: "Iterate on previous generation with feedback"
    usage: "/refine [feedback]"
    requires_context: true
    parameters:
      feedback:
        type: string
        required: true
        description: "Specific feedback for refinement"
    preserves:
      - core_creative_strategy
      - platform_specifications
    modifies:
      - specific_elements_mentioned
    example: "/refine Make the lighting warmer and add more atmosphere"

  series:
    name: "/series"
    description: "Multi-piece content series with consistency"
    usage: "/series [brief]"
    workflow: "create-content"
    parameters:
      brief:
        type: string
        required: true
      pieces:
        type: number
        required: false
        default: 3
      consistency_anchors:
        type: array
        required: false
        description: "Elements to maintain across pieces"
    output: "Multiple coordinated prompts with style consistency"
    example: "/series 5-part social campaign for product launch"

  breakdown:
    name: "/breakdown"
    description: "Reverse-engineer existing content"
    usage: "/breakdown [url or description]"
    parameters:
      input:
        type: string
        required: true
        description: "URL or detailed description of content to analyze"
    output_includes:
      - cinematography_analysis
      - lighting_breakdown
      - color_analysis
      - narrative_structure
      - replication_prompt
    example: "/breakdown https://example.com/video.mp4"

# ═══════════════════════════════════════════════════════════════════════════════
# COMMAND ALIASES
# ═══════════════════════════════════════════════════════════════════════════════

aliases:
  "/c": "/create"
  "/v": "/video"
  "/s": "/sora"
  "/i": "/image"
  "/m": "/mj"
  "/sb": "/storyboard"
  "/r": "/refine"

# ═══════════════════════════════════════════════════════════════════════════════
# COMMAND CHAINING
# ═══════════════════════════════════════════════════════════════════════════════

chaining:
  enabled: true
  separator: "|"
  examples:
    - "/create luxury watch | /adapt veo | /storyboard"
    - "/sora product reveal | /refine add more drama"
    - "/mj hero shot | /series 5"
